HashOver.prototype.editComment=function(e,t){if(!0!==e.editable)return!1;var n=this,i=HashOver.backendPath+"/comment-info.php",o=e.permalink,r=this.permalinkFile(o),a=["url="+encodeURIComponent(this.instance["page-url"]),"thread="+encodeURIComponent(this.instance["thread-name"]),"comment="+encodeURIComponent(r)],s=this.getElement("edit-link-"+o);return this.classes.add(s,"hashover-loading"),this.ajax("post",i,a,function(i){if(void 0!==i.error)return alert(i.error),void n.classes.remove(s,"hashover-loading");var a=i.body.replace(n.rx.links,"$1"),d=n.getElement("placeholder-edit-form-"+o),l=["approved","pending","deleted"],c=n.createElement("form",{id:n.prefix("edit-"+o),className:"hashover-edit-form",action:n.setup["http-backend"]+"/form-actions.php",method:"post"});c.innerHTML=n.strings.parseTemplate(n.ui["edit-form"],{hashover:n.prefix(),permalink:o,url:n.instance["page-url"],thread:n.instance["thread-name"],title:n.instance["page-title"],file:r,name:i.name||"",email:i.email||"",website:i.website||"",body:a}),n.preventSubmit(c),d.appendChild(c),n.elementExists("edit-status-"+o,function(t){void 0!==e.status&&(t.selectedIndex=l.indexOf(e.status))}),n.elementExists("edit-subscribe-"+o,function(t){!0!==e.subscribed&&(t.checked=null)});var m=n.getElement("edit-delete-"+o),p=n.getElement("edit-post-"+o);n.cancelSwitcher("edit",s,d,o),m.onclick=function(){return confirm(n.locale["delete-comment"])},n.formattingOnclick("edit",o),n.duplicateProperties(p,["onclick","onsubmit"],function(){return n.postComment(c,this,"edit",o,s.onclick)}),n.classes.remove(s,"hashover-loading"),"function"==typeof t&&t()},!0),!1};